<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
    
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<h2>파일 첨부형 게시판 - 목록 보기(List)</h2>
	
	<!-- 폼태그에 action 속성이 생략되면 현재 페이를 요청한다(현재 주소창의 url) -->
	<!-- action="http://localhost:9999/FristJsp/mvcboard/list.do" -->
	<form method="get">  
	    <table border="1" width="90%">
		    <tr>
		        <td align="center">
		            <select name="searchField"> 
		                <option value="title">제목</option> 
		                <option value="content">내용</option>
		            </select>
		            <input type="text" name="searchWord" />
		            <input type="submit" value="검색하기" />
		        </td>
		    </tr>   
	    </table>
    </form>
    
    <table border="1" width="90%">
     	<tr>
     		<th width="10%">번호</th>
     		<th width="*">제목</th>
     		<th width="15%">작성자</th>
     		<th width="10%">조회수</th>
     		<th width="15%">작성일</th>
     		<th width="8%">첨부</th>
     	</tr>
     	
     	<c:choose>
     		<c:when test ="${empty boardList }"> <!-- empty사용시 게시글 유무 알수 있음 -->
     	
     	<tr>
     		<td colspan="6" align="center"> <!-- 비어있을 때 실행  -->
     		    등록된 게시물이 없습니다^^*	
     		</td>
     	</tr>
     	</c:when>
     		<c:otherwise>
     			<c:forEach var="row" items="${boardLists }" varStatus="Loop">
     	<tr>	<!-- 게시글  -->
     		<td>${map.totalCount -((map.pageNum -1)*map.pageSize)+ loop.index}</td> <!-- 버추어 넘버  -->
     		<td>${row.title }</td>
     		<td>${row.name }</td>
     		<td>${row.visitcount }</td>
     		<td>${row.postdate }</td>
     		<td>[Down]</td>
     	</tr>
     			</c:forEach>
     		</c:otherwise>
     	</c:choose>
     	
     </table>
</body>
</html>














